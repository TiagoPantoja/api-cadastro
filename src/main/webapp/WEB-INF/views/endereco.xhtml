<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Gerenciamento de Endereços</title>
</h:head>
<h:body>
    <h1>Gerenciamento de Endereços</h1>

    <h:form id="enderecoForm">
        <p:panelGrid columns="2">
            <p:outputLabel for="logradouro" value="Logradouro:"/>
            <p:inputText id="logradouro" value="#{enderecoBean.endereco.logradouro}"/>

            <p:outputLabel for="cidade" value="Cidade:"/>
            <p:inputText id="cidade" value="#{enderecoBean.endereco.cidade}"/>

            <p:outputLabel for="estado" value="Estado:"/>
            <p:inputText id="estado" value="#{enderecoBean.endereco.estado}"/>

            <p:outputLabel for="cep" value="CEP:"/>
            <p:inputText id="cep" value="#{enderecoBean.endereco.cep}"/>

            <p:outputLabel for="numero" value="Número:"/>
            <p:inputText id="numero" value="#{enderecoBean.endereco.numero}"/>
        </p:panelGrid>

        <p:commandButton value="Salvar" action="#{enderecoBean.salvarEndereco}" update="enderecoForm"/>
    </h:form>

    <br/>

    <h2>Endereços Cadastrados</h2>
    <p:dataTable var="endereco" value="#{enderecoBean.enderecos}" emptyMessage="Nenhum endereço encontrado.">
        <p:column headerText="Logradouro">
            <h:outputText value="#{endereco.logradouro}"/>
        </p:column>
        <p:column headerText="Cidade">
            <h:outputText value="#{endereco.cidade}"/>
        </p:column>
        <p:column headerText="Estado">
            <h:outputText value="#{endereco.estado}"/>
        </p:column>
        <p:column headerText="CEP">
            <h:outputText value="#{endereco.cep}"/>
        </p:column>
        <p:column headerText="Número">
            <h:outputText value="#{endereco.numero}"/>
        </p:column>
        <p:column headerText="Ações">
            <p:commandLink value="Editar" action="#{enderecoBean.editarEndereco(endereco.id)}"/>
            <p:commandLink value="Excluir" action="#{enderecoBean.excluirEndereco(endereco.id)}"
                           onclick="return confirm('Tem certeza que deseja excluir este endereço?')"/>
        </p:column>
    </p:dataTable>
</h:body>
</html>
